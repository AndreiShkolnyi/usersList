{"ast":null,"code":"import _objectSpread from\"/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{orderBy}from\"lodash\";import React,{useEffect}from\"react\";import CommentsList,{AddCommentForm}from\"../common/comments\";import{createComment,getComments,getCommentsLoadingStatus,loadCommentsList,removeComment}from\"../../store/comments\";import{useSelector,useDispatch}from\"react-redux\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Comments=function Comments(){var _useParams=useParams(),userId=_useParams.userId;var dispatch=useDispatch();useEffect(function(){dispatch(loadCommentsList(userId));},[userId]);var isLoading=useSelector(getCommentsLoadingStatus());var comments=useSelector(getComments());var handleSubmit=function handleSubmit(data){dispatch(createComment(_objectSpread(_objectSpread({},data),{},{pageId:userId})));};var handleRemoveComment=function handleRemoveComment(id){dispatch(removeComment(id));};var sortedComments=orderBy(comments,[\"created_at\"],[\"desc\"]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body \",children:/*#__PURE__*/_jsx(AddCommentForm,{onSubmit:handleSubmit})})}),sortedComments.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body \",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"hr\",{}),!isLoading?/*#__PURE__*/_jsx(CommentsList,{comments:sortedComments,onRemove:handleRemoveComment}):\"loading...\"]})})]});};export default Comments;","map":{"version":3,"names":["orderBy","React","useEffect","CommentsList","AddCommentForm","createComment","getComments","getCommentsLoadingStatus","loadCommentsList","removeComment","useSelector","useDispatch","useParams","Comments","userId","dispatch","isLoading","comments","handleSubmit","data","pageId","handleRemoveComment","id","sortedComments","length"],"sources":["/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/src/app/components/ui/comments.jsx"],"sourcesContent":["import { orderBy } from \"lodash\";\nimport React, { useEffect } from \"react\";\nimport CommentsList, { AddCommentForm } from \"../common/comments\";\nimport {\n    createComment,\n    getComments,\n    getCommentsLoadingStatus,\n    loadCommentsList,\n    removeComment\n} from \"../../store/comments\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nconst Comments = () => {\n    const { userId } = useParams();\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(loadCommentsList(userId));\n    }, [userId]);\n    const isLoading = useSelector(getCommentsLoadingStatus());\n\n    const comments = useSelector(getComments());\n    const handleSubmit = (data) => {\n        dispatch(createComment({ ...data, pageId: userId }));\n    };\n    const handleRemoveComment = (id) => {\n        dispatch(removeComment(id));\n    };\n    const sortedComments = orderBy(comments, [\"created_at\"], [\"desc\"]);\n    return (\n        <>\n            <div className=\"card mb-2\">\n                <div className=\"card-body \">\n                    <AddCommentForm onSubmit={handleSubmit} />\n                </div>\n            </div>\n            {sortedComments.length > 0 && (\n                <div className=\"card mb-3\">\n                    <div className=\"card-body \">\n                        <h2>Comments</h2>\n                        <hr />\n                        {!isLoading ? (\n                            <CommentsList\n                                comments={sortedComments}\n                                onRemove={handleRemoveComment}\n                            />\n                        ) : (\n                            \"loading...\"\n                        )}\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default Comments;\n"],"mappings":"oLAAA,OAASA,OAAO,KAAQ,QAAQ,CAChC,MAAOC,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,aAAY,EAAIC,cAAc,KAAQ,oBAAoB,CACjE,OACIC,aAAa,CACbC,WAAW,CACXC,wBAAwB,CACxBC,gBAAgB,CAChBC,aAAa,KACV,sBAAsB,CAC7B,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,6IAE7C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,gBACAD,SAAS,EAAE,CAAtBE,MAAM,YAANA,MAAM,CACd,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9BT,SAAS,CAAC,UAAM,CACZa,QAAQ,CAACP,gBAAgB,CAACM,MAAM,CAAC,CAAC,CACtC,CAAC,CAAE,CAACA,MAAM,CAAC,CAAC,CACZ,GAAME,UAAS,CAAGN,WAAW,CAACH,wBAAwB,EAAE,CAAC,CAEzD,GAAMU,SAAQ,CAAGP,WAAW,CAACJ,WAAW,EAAE,CAAC,CAC3C,GAAMY,aAAY,CAAG,QAAfA,aAAY,CAAIC,IAAI,CAAK,CAC3BJ,QAAQ,CAACV,aAAa,gCAAMc,IAAI,MAAEC,MAAM,CAAEN,MAAM,GAAG,CAAC,CACxD,CAAC,CACD,GAAMO,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,EAAE,CAAK,CAChCP,QAAQ,CAACN,aAAa,CAACa,EAAE,CAAC,CAAC,CAC/B,CAAC,CACD,GAAMC,eAAc,CAAGvB,OAAO,CAACiB,QAAQ,CAAE,CAAC,YAAY,CAAC,CAAE,CAAC,MAAM,CAAC,CAAC,CAClE,mBACI,wCACI,YAAK,SAAS,CAAC,WAAW,uBACtB,YAAK,SAAS,CAAC,YAAY,uBACvB,KAAC,cAAc,EAAC,QAAQ,CAAEC,YAAa,EAAG,EACxC,EACJ,CACLK,cAAc,CAACC,MAAM,CAAG,CAAC,eACtB,YAAK,SAAS,CAAC,WAAW,uBACtB,aAAK,SAAS,CAAC,YAAY,wBACvB,gCAAiB,cACjB,aAAM,CACL,CAACR,SAAS,cACP,KAAC,YAAY,EACT,QAAQ,CAAEO,cAAe,CACzB,QAAQ,CAAEF,mBAAoB,EAChC,CAEF,YACH,GACC,EAEb,GACF,CAEX,CAAC,CAED,cAAeR,SAAQ"},"metadata":{},"sourceType":"module"}