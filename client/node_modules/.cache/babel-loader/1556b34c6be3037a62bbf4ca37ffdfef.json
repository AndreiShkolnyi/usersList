{"ast":null,"code":"var _jsxFileName = \"/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/src/app/components/common/comments/addCommentForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport TextAreaField from \"../form/textAreaField\";\nimport { validator } from \"../../../utils/validator\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddCommentForm = _ref => {\n  _s();\n  let {\n    onSubmit\n  } = _ref;\n  const [data, setData] = useState();\n  const [errors, setErrors] = useState();\n  const handleChange = e => {\n    setData(prevState => ({\n      ...prevState,\n      [e.currentTarget.name]: e.currentTarget.value\n    }));\n  };\n  const validatorConfog = {\n    content: {\n      isRequired: {\n        message: \"Сообщение не может быть пустым\"\n      }\n    }\n  };\n  const validate = () => {\n    const errors = validator(data, validatorConfog);\n    setErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const clearForm = () => {\n    setData({});\n    setErrors({});\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const isValid = validate();\n    if (!isValid) return;\n    onSubmit(data);\n    clearForm();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"New comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextAreaField, {\n        value: data.content || \"\",\n        onChange: handleChange,\n        name: \"content\",\n        label: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",\n        error: errors.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(AddCommentForm, \"XHmHLIZIPoRSFNJcKbTl18ysFHY=\");\n_c = AddCommentForm;\nAddCommentForm.propTypes = {\n  onSubmit: PropTypes.func\n};\nexport default AddCommentForm;\nvar _c;\n$RefreshReg$(_c, \"AddCommentForm\");","map":{"version":3,"names":["React","useState","TextAreaField","validator","PropTypes","AddCommentForm","onSubmit","data","setData","errors","setErrors","handleChange","e","prevState","currentTarget","name","value","validatorConfog","content","isRequired","message","validate","Object","keys","length","clearForm","handleSubmit","preventDefault","isValid","propTypes","func"],"sources":["/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/src/app/components/common/comments/addCommentForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport TextAreaField from \"../form/textAreaField\";\nimport { validator } from \"../../../utils/validator\";\nimport PropTypes from \"prop-types\";\n\ninterface AddProps {\n    onSubmit: (data: any) => any;\n}\n\nconst AddCommentForm = ({ onSubmit }: AddProps) => {\n    const [data, setData] = useState<{} | any>();\n    const [errors, setErrors] = useState<{} | any>();\n    const handleChange = (e: React.FormEvent<HTMLInputElement>): void => {\n        setData((prevState: any) => ({\n            ...prevState,\n            [e.currentTarget.name]: e.currentTarget.value\n        }));\n    };\n    const validatorConfog = {\n        content: {\n            isRequired: {\n                message: \"Сообщение не может быть пустым\"\n            }\n        }\n    };\n\n    const validate = () => {\n        const errors = validator(data, validatorConfog);\n\n        setErrors(errors);\n        return Object.keys(errors).length === 0;\n    };\n\n    const clearForm = () => {\n        setData({});\n        setErrors({});\n    };\n    const handleSubmit = (e: React.SyntheticEvent) => {\n        e.preventDefault();\n        const isValid = validate();\n        if (!isValid) return;\n        onSubmit(data);\n        clearForm();\n    };\n\n    return (\n        <div>\n            <h2>New comment</h2>\n            <form onSubmit={handleSubmit}>\n                <TextAreaField\n                    value={data.content || \"\"}\n                    onChange={handleChange}\n                    name=\"content\"\n                    label=\"Сообщение\"\n                    error={errors.content}\n                />\n                <div className=\"d-flex justify-content-end\">\n                    <button className=\"btn btn-primary\">Опубликовать</button>\n                </div>\n            </form>\n        </div>\n    );\n};\nAddCommentForm.propTypes = {\n    onSubmit: PropTypes.func\n};\n\nexport default AddCommentForm;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,aAAa,MAAM,uBAAuB;AACjD,SAASC,SAAS,QAAQ,0BAA0B;AACpD,OAAOC,SAAS,MAAM,YAAY;AAAC;AAMnC,MAAMC,cAAc,GAAG,QAA4B;EAAA;EAAA,IAA3B;IAAEC;EAAmB,CAAC;EAC1C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,EAAY;EAC5C,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,EAAY;EAChD,MAAMU,YAAY,GAAIC,CAAoC,IAAW;IACjEJ,OAAO,CAAEK,SAAc,KAAM;MACzB,GAAGA,SAAS;MACZ,CAACD,CAAC,CAACE,aAAa,CAACC,IAAI,GAAGH,CAAC,CAACE,aAAa,CAACE;IAC5C,CAAC,CAAC,CAAC;EACP,CAAC;EACD,MAAMC,eAAe,GAAG;IACpBC,OAAO,EAAE;MACLC,UAAU,EAAE;QACRC,OAAO,EAAE;MACb;IACJ;EACJ,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAM;IACnB,MAAMZ,MAAM,GAAGN,SAAS,CAACI,IAAI,EAAEU,eAAe,CAAC;IAE/CP,SAAS,CAACD,MAAM,CAAC;IACjB,OAAOa,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACe,MAAM,KAAK,CAAC;EAC3C,CAAC;EAED,MAAMC,SAAS,GAAG,MAAM;IACpBjB,OAAO,CAAC,CAAC,CAAC,CAAC;IACXE,SAAS,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC;EACD,MAAMgB,YAAY,GAAId,CAAuB,IAAK;IAC9CA,CAAC,CAACe,cAAc,EAAE;IAClB,MAAMC,OAAO,GAAGP,QAAQ,EAAE;IAC1B,IAAI,CAACO,OAAO,EAAE;IACdtB,QAAQ,CAACC,IAAI,CAAC;IACdkB,SAAS,EAAE;EACf,CAAC;EAED,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAoB,eACpB;MAAM,QAAQ,EAAEC,YAAa;MAAA,wBACzB,QAAC,aAAa;QACV,KAAK,EAAEnB,IAAI,CAACW,OAAO,IAAI,EAAG;QAC1B,QAAQ,EAAEP,YAAa;QACvB,IAAI,EAAC,SAAS;QACd,KAAK,EAAC,wDAAW;QACjB,KAAK,EAAEF,MAAM,CAACS;MAAQ;QAAA;QAAA;QAAA;MAAA,QACxB,eACF;QAAK,SAAS,EAAC,4BAA4B;QAAA,uBACvC;UAAQ,SAAS,EAAC,iBAAiB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAsB;QAAA;QAAA;QAAA;MAAA,QACvD;IAAA;MAAA;MAAA;MAAA;IAAA,QACH;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEd,CAAC;AAAC,GArDIb,cAAc;AAAA,KAAdA,cAAc;AAsDpBA,cAAc,CAACwB,SAAS,GAAG;EACvBvB,QAAQ,EAAEF,SAAS,CAAC0B;AACxB,CAAC;AAED,eAAezB,cAAc;AAAC;AAAA"},"metadata":{},"sourceType":"module"}