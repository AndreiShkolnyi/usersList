{"ast":null,"code":"import _defineProperty from\"/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import TextAreaField from\"../form/textAreaField\";import{validator}from\"../../../utils/validator\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCommentForm=function AddCommentForm(_ref){var onSubmit=_ref.onSubmit;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var handleChange=function handleChange(target){setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},target.name,target.value));});};var validatorConfog={content:{isRequired:{message:\"Сообщение не может быть пустым\"}}};var validate=function validate(){var errors=validator(data,validatorConfog);setErrors(errors);return Object.keys(errors).length===0;};var clearForm=function clearForm(){setData({});setErrors({});};var handleSubmit=function handleSubmit(e){e.preventDefault();var isValid=validate();if(!isValid)return;onSubmit(data);clearForm();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New comment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextAreaField,{value:data.content||\"\",onChange:handleChange,name:\"content\",label:\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",error:errors.content}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"})})]})]});};export default AddCommentForm;","map":{"version":3,"names":["React","useState","TextAreaField","validator","AddCommentForm","onSubmit","data","setData","errors","setErrors","handleChange","target","prevState","name","value","validatorConfog","content","isRequired","message","validate","Object","keys","length","clearForm","handleSubmit","e","preventDefault","isValid"],"sources":["/Users/sikollineu-iandeulei/Desktop/Userslist/usersList/client/src/app/components/common/comments/addCommentForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport TextAreaField from \"../form/textAreaField\";\nimport { validator } from \"../../../utils/validator\";\nimport PropTypes from \"prop-types\";\n\nconst AddCommentForm = ({ onSubmit }) => {\n    const [data, setData] = useState({});\n    const [errors, setErrors] = useState({});\n    const handleChange = (target) => {\n        setData((prevState) => ({\n            ...prevState,\n            [target.name]: target.value\n        }));\n    };\n    const validatorConfog = {\n        content: {\n            isRequired: {\n                message: \"Сообщение не может быть пустым\"\n            }\n        }\n    };\n\n    const validate = () => {\n        const errors = validator(data, validatorConfog);\n\n        setErrors(errors);\n        return Object.keys(errors).length === 0;\n    };\n\n    const clearForm = () => {\n        setData({});\n        setErrors({});\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const isValid = validate();\n        if (!isValid) return;\n        onSubmit(data);\n        clearForm();\n    };\n\n    return (\n        <div>\n            <h2>New comment</h2>\n            <form onSubmit={handleSubmit}>\n                <TextAreaField\n                    value={data.content || \"\"}\n                    onChange={handleChange}\n                    name=\"content\"\n                    label=\"Сообщение\"\n                    error={errors.content}\n                />\n                <div className=\"d-flex justify-content-end\">\n                    <button className=\"btn btn-primary\">Опубликовать</button>\n                </div>\n            </form>\n        </div>\n    );\n};\nAddCommentForm.propTypes = {\n    onSubmit: PropTypes.func\n};\n\nexport default AddCommentForm;\n"],"mappings":"giBAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,cAAa,KAAM,uBAAuB,CACjD,OAASC,SAAS,KAAQ,0BAA0B,CAAC,wFAGrD,GAAMC,eAAc,CAAG,QAAjBA,eAAc,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,eACNJ,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,8BACQN,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAjCO,MAAM,eAAEC,SAAS,eACxB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,MAAM,CAAK,CAC7BJ,OAAO,CAAC,SAACK,SAAS,wCACXA,SAAS,wBACXD,MAAM,CAACE,IAAI,CAAGF,MAAM,CAACG,KAAK,IAC7B,CAAC,CACP,CAAC,CACD,GAAMC,gBAAe,CAAG,CACpBC,OAAO,CAAE,CACLC,UAAU,CAAE,CACRC,OAAO,CAAE,gCACb,CACJ,CACJ,CAAC,CAED,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACnB,GAAMX,OAAM,CAAGL,SAAS,CAACG,IAAI,CAAES,eAAe,CAAC,CAE/CN,SAAS,CAACD,MAAM,CAAC,CACjB,MAAOY,OAAM,CAACC,IAAI,CAACb,MAAM,CAAC,CAACc,MAAM,GAAK,CAAC,CAC3C,CAAC,CAED,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpBhB,OAAO,CAAC,CAAC,CAAC,CAAC,CACXE,SAAS,CAAC,CAAC,CAAC,CAAC,CACjB,CAAC,CACD,GAAMe,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAMC,QAAO,CAAGR,QAAQ,EAAE,CAC1B,GAAI,CAACQ,OAAO,CAAE,OACdtB,QAAQ,CAACC,IAAI,CAAC,CACdiB,SAAS,EAAE,CACf,CAAC,CAED,mBACI,oCACI,mCAAoB,cACpB,cAAM,QAAQ,CAAEC,YAAa,wBACzB,KAAC,aAAa,EACV,KAAK,CAAElB,IAAI,CAACU,OAAO,EAAI,EAAG,CAC1B,QAAQ,CAAEN,YAAa,CACvB,IAAI,CAAC,SAAS,CACd,KAAK,CAAC,wDAAW,CACjB,KAAK,CAAEF,MAAM,CAACQ,OAAQ,EACxB,cACF,YAAK,SAAS,CAAC,4BAA4B,uBACvC,eAAQ,SAAS,CAAC,iBAAiB,sFAAsB,EACvD,GACH,GACL,CAEd,CAAC,CAKD,cAAeZ,eAAc"},"metadata":{},"sourceType":"module"}